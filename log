$ spin -g -p -i vm.pml
  0:    proc  - (:root:) creates proc  0 (VendingMachine)
  0:    proc  - (:root:) creates proc  1 (Atm)
  0:    proc  - (:root:) creates proc  2 (Agent)
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [IF]
    choice 2: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [req_c!3]
Select [1-5]: 1
Select stmnt (proc  2 (Agent:1) )
    choice 0: other process
    choice 1: req_c!2
    choice 2: req_c!1
Select [0-3]: 1
  1:    proc  2 (Agent:1) vm.pml:102 (state 1)  [req_c!2]
  1:    proc  0 (VendingMachine:1) vm.pml:24 (state 1)  [req_c?req]
        queue 2 (price_c): 
Select a statement
    choice 3: proc  0 (VendingMachine:1) vm.pml:25 (state 14) [((req==2))]
Select [1-4]: 3
  2:    proc  0 (VendingMachine:1) vm.pml:26 (state 2)  [((req==2))]
        queue 2 (price_c): 
Select a statement
    choice 3: proc  0 (VendingMachine:1) vm.pml:28 (state 3) [requested_product = 2]
Select [1-3]: 3
  3:    proc  0 (VendingMachine:1) vm.pml:28 (state 3)  [requested_product = 2]
        queue 2 (price_c): 
        requested_product = sprite
  4:    proc  0 (VendingMachine:1) vm.pml:29 (state 4)  [product = 2]
        queue 2 (price_c): 
  5:    proc  0 (VendingMachine:1) vm.pml:31 (state 5)  [received_product = 0]
        queue 2 (price_c): 
  6:    proc  0 (VendingMachine:1) vm.pml:32 (state 6)  [price_c!2]
        queue 2 (price_c): [price_sprite]
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 23) [IF]
    choice 2: proc  1 (Atm:1) vm.pml:63 (state 24) <valid end state> [price_c?price]
Select [1-4]: 2
  7:    proc  1 (Atm:1) vm.pml:65 (state 1) [price_c?price]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 23) [IF]
Select [1-4]: 1
Select stmnt (proc  2 (Agent:1) )
    choice 0: other process
    choice 1: payment_cmd_c!2
    choice 2: payment_cmd_c!1
    choice 3: req_c!3
Select [0-3]: 3
  8:    proc  2 (Agent:1) vm.pml:128 (state 19) [req_c!3]
  8:    proc  0 (VendingMachine:1) vm.pml:46 (state 18) [req_c?3]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 25) [break]
Select [1-3]: 1
  9:    proc  2 (Agent:1) vm.pml:112 (state 25) [break]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [IF]
    choice 2: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [req_c!3]
    choice 3: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [payment_cmd_c!1]
Select [1-5]: 1
Select stmnt (proc  2 (Agent:1) )
    choice 0: other process
    choice 1: req_c!2
    choice 2: req_c!1
Select [0-3]: 2
 10:    proc  2 (Agent:1) vm.pml:103 (state 2)  [req_c!1]
 10:    proc  0 (VendingMachine:1) vm.pml:24 (state 1)  [req_c?req]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 23) [IF]
    choice 4: proc  0 (VendingMachine:1) vm.pml:25 (state 14) [((req==1))]
Select [1-4]: 4
 11:    proc  0 (VendingMachine:1) vm.pml:34 (state 8)  [((req==1))]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 23) [IF]
    choice 3: proc  0 (VendingMachine:1) vm.pml:36 (state 9) [requested_product = 1]
Select [1-3]: 3
 12:    proc  0 (VendingMachine:1) vm.pml:36 (state 9)  [requested_product = 1]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
        requested_product = cocacola
 13:    proc  0 (VendingMachine:1) vm.pml:37 (state 10) [product = 1]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
 14:    proc  0 (VendingMachine:1) vm.pml:39 (state 11) [received_product = 0]
        queue 2 (price_c): 
        queue 4 (payment_res_vm_c): 
 15:    proc  0 (VendingMachine:1) vm.pml:40 (state 12) [price_c!1]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 23) [IF]
Select [1-4]: 1
Select stmnt (proc  2 (Agent:1) )
    choice 0: other process
    choice 1: payment_cmd_c!2
    choice 2: payment_cmd_c!1
    choice 3: req_c!3
Select [0-3]: 1
 16:    proc  2 (Agent:1) vm.pml:115 (state 7)  [payment_cmd_c!2]
 16:    proc  1 (Atm:1) vm.pml:68 (state 2) [payment_cmd_c?payment_cmd]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 3: proc  1 (Atm:1) vm.pml:69 (state 19) [((payment_cmd==2))]
Select [1-6]: 3
 17:    proc  1 (Atm:1) vm.pml:70 (state 3) [((payment_cmd==2))]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 3: proc  1 (Atm:1) vm.pml:71 (state 12) [payed_price = price]
    choice 4: proc  1 (Atm:1) vm.pml:71 (state 12) [payed_price = 0]
Select [1-6]: 3
 18:    proc  1 (Atm:1) vm.pml:73 (state 4) [payed_price = price]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
        payed_price = price_sprite        *****************************************************************************
 19:    proc  1 (Atm:1) vm.pml:74 (state 5) [payment_res_agent_c!2]
 19:    proc  2 (Agent:1) vm.pml:118 (state 9)  [payment_res_agent_c?2]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 2: proc  1 (Atm:1) vm.pml:76 (state 7) [payment_res_vm_c!2]
Select [1-4]: 2
 20:    proc  1 (Atm:1) vm.pml:76 (state 7) [payment_res_vm_c!2]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): [payment_success]
Select a statement
    choice 2: proc  1 (Atm:1) vm.pml:66 (state 23) [break]
    choice 3: proc  0 (VendingMachine:1) vm.pml:43 (state 19) [payment_res_vm_c?2]
Select [1-4]: 3
 21:    proc  0 (VendingMachine:1) vm.pml:44 (state 16) [payment_res_vm_c?2]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 2: proc  1 (Atm:1) vm.pml:66 (state 23) [break]
    choice 3: proc  0 (VendingMachine:1) vm.pml:45 (state 17) [delivery_c!product]
Select [1-3]: 3
 22:    proc  0 (VendingMachine:1) vm.pml:45 (state 17) [delivery_c!product]
 22:    proc  2 (Agent:1) vm.pml:120 (state 10) [delivery_c?product]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
 23:    proc  2 (Agent:1) vm.pml:121 (state 11) [received_product = product]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
        received_product = cocacola       *****************************************************************************
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:112 (state 25) [break]
    choice 2: proc  1 (Atm:1) vm.pml:66 (state 23) [break]
Select [1-3]: 1
 24:    proc  2 (Agent:1) vm.pml:112 (state 25) [break]
        queue 2 (price_c): [price_cocacola]
        queue 4 (payment_res_vm_c): 
Select a statement
    choice 1: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [IF]
    choice 2: proc  2 (Agent:1) vm.pml:99 (state 29) <valid end state> [req_c!3]
    choice 4: proc  1 (Atm:1) vm.pml:66 (state 23) [break]
Select [1-5]:  ^C